#! /usr/bin/env bash
#
# Copyright (C) distroy
#


cd "$(dirname "${BASH_SOURCE[0]}")"
SOURCE_DIR="$PWD"
source ../install


WRITE_FILE=$HOME/.vimrc


# vimrc
cat >>$WRITE_FILE <<EOF
" ld vimrc
source ${SOURCE_DIR/#$HOME/\$HOME}/vimrc
EOF

timestamp=$(date +%Y%m%d%H%M%S)
test -f $HOME/.clang-format && cp $HOME/.clang-format $HOME/.clang-format-$timestamp
cp -v ./lib/plugin/auto_format/clang-format $HOME/.clang-format
test -f $HOME/.ycm_extra_conf.py && cp $HOME/.ycm_extra_conf.py $HOME/.ycm_extra_conf.py-$timestamp
cp -v ./lib/plugin/ycm/ycm_extra_conf.py $HOME/.ycm_extra_conf.py

vim +PlugInstall
